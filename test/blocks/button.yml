---
button:
  global_variable: 
    - twr_button_t button;
    - int button_hold_cnt = 0;
  application_init:
    - twr_button_init(&button, {GPIO}, {PULL}, 0);
  handler:
    name: "on"
    declaration: void button_event_handler(twr_button_t *self, twr_button_event_t event, void *event_param)
    application_init:
      - twr_button_set_event_handler(&button, button_event_handler, NULL);
    events:
      prefix: "TWR_BUTTON_EVENT_"
      enum: 
        PRESS:
        RELEASE:
        CLICK:
        HOLD:
          - button_hold_cnt++;
      